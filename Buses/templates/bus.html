{% extends "base.html" %}

{% block page_header %}

  <h1>{{ bus.obj.b_name }}</h1>

  {% if user.is_authenticated %}
    <a class="btn bg-parent p-3 shadow border border-light text-nowrap" href="{% url 'edit_bus' bus.obj.id  %}" >Edit_Bus</a>
  {% else %}
    <a class="btn bg-parent p-3 shadow border border-light text-nowrap disabled">Edit Bus</a>
  {% endif %}

{% endblock page_header %}

{% block content %}

<div class="card text-center">
  <div class="card-header">Bus Details</div>
  <div class="card-body">
    <h4 class="card-title"><small>Bus Route : </small>{{ bus.from }} <small>to</small> {{ bus.to }} </h4>
    <p class="card-text">Service : {{ bus.obj.service }}</p>
    <p class="card-text">Rating : {{ bus.obj.rating }}</p>
    <a href="#" class="btn btn-primary">Go somewhere</a>
  </div>
  <div class="card-footer text-body-secondary"><b>Stands</b></div>
</div>

<div class="container col-xs-12 col-sm-9 col-md-6 col-lg-5 text-center">
  {% for stand in stands %}
    <div class="row gx-2 justify-content-center align-item-center">

      <button class="col gy-3 col-xs-3 col-sm-3 col-md-2 col-lg-2 btn shadow border text-black text-center">{{ stand.order}}</button>

      <a href="{% url 'stands:stand' stand.obj.id %}" class="col gy-3 col-xs-9 col-sm-9 col-md-5 col-lg-5 btn shadow border text-black">{{ stand.obj.s_name }}</a>

      <a href="{% url 'edit_bus_stand' bus.obj.id stand.order %}" class="col gy-3 col-xs-6 col-sm-6 col-md-2 col-lg-2 btn shadow bg-warning border rounded-pill border-3 text-white">Edit</a>

      <a href="{% url 'edit_bus_stand' bus.obj.id stand.order %}" class="col gy-3 col-xs-6 col-sm-6 col-md-3 col-lg-3 btn shadow bg-danger border rounded-pill border-3 text-white">Delete</a>
    
    </div>

  {% empty %}
  <h3>No Stand have been added yet !</h3>
  {% endfor %}
</div>
{% endblock content %}
